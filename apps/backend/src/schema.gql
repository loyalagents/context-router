# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

input ApplyPreferenceSuggestionInput {
  category: String!
  key: String!
  newValue: JSON
  operation: PreferenceOperation!
  suggestionId: ID!
}

input CreateLocationInput {
  address: String!
  label: String!
  type: LocationType!
}

input CreatePreferenceInput {
  category: String!
  key: String!
  locationId: String
  value: JSON!
}

"""
A date-time string at UTC, such as 2019-12-03T09:54:33Z, compliant with the date-time format.
"""
scalar DateTime

"""
The `JSON` scalar type represents JSON values as specified by [ECMA-404](http://www.ecma-international.org/publications/files/ECMA-ST/ECMA-404.pdf).
"""
scalar JSON

type Location {
  address: String!
  createdAt: DateTime!
  label: String!
  locationId: ID!
  type: LocationType!
  updatedAt: DateTime!
  userId: String!
}

"""Type of location"""
enum LocationType {
  HOME
  OTHER
  WORK
}

type Mutation {
  applyPreferenceSuggestions(analysisId: ID!, input: [ApplyPreferenceSuggestionInput!]!): [Preference!]!
  createLocation(data: CreateLocationInput!): Location!
  createPreference(data: CreatePreferenceInput!): Preference!
  deleteLocation(locationId: String!): Location!
  deletePreference(preferenceId: String!): Preference!
  updateLocation(data: UpdateLocationInput!, locationId: String!): Location!
  updatePreference(data: UpdatePreferenceInput!, preferenceId: String!): Preference!

  """Update an existing user"""
  updateUser(updateUserInput: UpdateUserInput!): User!
}

type Preference {
  category: String!
  createdAt: DateTime!
  key: String!
  locationId: String
  preferenceId: ID!
  updatedAt: DateTime!
  userId: String!
  value: JSON!
}

"""The type of operation to perform on a preference"""
enum PreferenceOperation {
  CREATE
  UPDATE
}

type PreferenceSuggestion {
  category: String!
  confidence: Float!
  id: ID!
  key: String!
  newValue: JSON!
  oldValue: JSON
  operation: PreferenceOperation!
  sourceMeta: SourceMeta
  sourceSnippet: String!
  wasCorrected: Boolean!
}

type Query {
  """Send a text prompt to Vertex AI and receive a generated response"""
  askVertexAI(message: String!): String!
  globalPreferences: [Preference!]!
  location(locationId: String!): Location!
  locations: [Location!]!
  locationsByType(type: LocationType!): [Location!]!

  """Get current authenticated user"""
  me: User!
  preference(preferenceId: String!): Preference!
  preferences: [Preference!]!
  preferencesByCategory(category: String!): [Preference!]!
  preferencesByLocation(locationId: String!): [Preference!]!

  """Get a user by ID"""
  user(id: ID!): User!
}

type SourceMeta {
  filename: String
  line: Float
  page: Float
}

input UpdateLocationInput {
  address: String
  label: String
  type: LocationType
}

input UpdatePreferenceInput {
  category: String
  key: String
  locationId: String
  value: JSON
}

input UpdateUserInput {
  email: String
  firstName: String
  lastName: String
  userId: ID!
}

type User {
  createdAt: DateTime!
  email: String!
  firstName: String!
  lastName: String!
  updatedAt: DateTime!
  userId: ID!
}